[platformio]
src_dir = src/

[env]
platform = teensy
board = teensy40
framework = arduino
upload_protocol = teensy-cli
lib_ldf_mode = deep
# List of available build-flags!
# https://docs.platformio.org/en/latest/platforms/teensy.html#usb-features
build_flags = -frtti
lib_deps =
    adafruit/Adafruit SSD1327@^1.0.1
    michalmonday/CSV Parser
    https://github.com/FrankBoesing/T4_PowerButton
    lbs-ui
    lbs-event_system
    lbs-graphics
build_src_filter =
    -<*>

[env:release]
# specify all files manually from src dir!
build_src_filter =
    +<main.cpp>
    +<lunchbox_sampler.*>
build_flags = ${env.build_flags} -D Release -O3

[env:debug]
# specify all files manually from src dir!
build_src_filter =
    +<main.cpp>
    +<lunchbox_sampler.*>
    +<base_states.*>
#+<modules/*.*>
build_flags = ${env.build_flags} -D Debug -D VERBOSE

[env:test_events]
build_src_filter =
    +<interactive-tests/test_event_system.cpp>
build_flags = ${env.build_flags} -D VERBOSE